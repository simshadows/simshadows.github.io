---
import {type MDXInstance} from "astro";

import Layout from "@layouts/GeneralLayout.astro";

import {slugToLeetcodeURL, difficultyIDToName} from "./_utils";

// TODO: I don't like that we almost have to use 'any' here.
type PostMetadata = MDXInstance<Record<string, any>>;

const allPosts: PostMetadata[] = await Astro.glob("./sol/*.mdx");
allPosts.sort((a, b) => a.frontmatter["num"] - b.frontmatter["num"])
---

<Layout
    title="My Leetcode Solutions"
    description="My Leetcode solutions!"
    keywords={["data structures and algorithms", "dsa", "oa", "interview", "competitive programming", "programming challenges"]}
>

<ul class="rootlevel">
    {allPosts.map((post) =>
        (!post.frontmatter["wip"]) &&
        <li><a href={post.url}>{post.frontmatter["num"]}. {post.frontmatter["name"]} ({difficultyIDToName(post.frontmatter["difficulty"])})</a> [<a href={slugToLeetcodeURL(post.frontmatter["webslug"])}>Spec</a>]</li>
    )}
</ul>

</Layout>

