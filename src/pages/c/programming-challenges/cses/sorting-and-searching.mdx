---
layout: "@layouts/MDLayout.astro"
title: Sorting and Searching - CSES Problem Set Solutions
description: My solutions and thoughts for the CSES problem set!
keywords: ["cp", "competitive programming", "leetcode", "algorithms", "data structures"]
---

import AlignLatex from "@components/latex/AlignLatex";
import DisplayLatex from "@components/latex/DisplayLatex";
import Eqref from "@components/latex/Eqref";
import GatherLatex from "@components/latex/GatherLatex";
import Eq from "@components/latex/Eq";
import Trl from "@components/latex/TableRowLatex";
import Trhl from "@components/latex/TableRowHLatex";

import FiguresBlock from "@components/figures/FiguresBlock";
import Fig from "@components/figures/Fig";

import Code from "@components/Code.astro";
import SpoilerBlock from "@components/SpoilerBlock.astro";
import Todo from "@components/Todo";

import Spec from "./../_shared.Spec.astro"; //_
import Intro from "./_common.intro.astro"; //_

import DArr from "./_common.DArr.astro"; //_
import UArr from "./_common.UArr.astro"; //_
import LArr from "./_common.LArr.astro"; //_
import RArr from "./_common.RArr.astro"; //_
import DLArr from "./_common.DLArr.astro"; //_
import URArr from "./_common.URArr.astro"; //_

<Intro />


## Distinct Numbers <Spec href="https://cses.fi/problemset/task/1621" cdate="2024-01-15" />

import SolDistinctNumbers from "./_solutions.sorting-and-searching/distinct-numbers--easier-to-read.py?raw" //_

<Code code={SolDistinctNumbers} lang="py" />


## Apartments <Spec href="https://cses.fi/problemset/task/1084/" cdate="2024-01-15" />

import SolApartments from "./_solutions.sorting-and-searching/apartments.py?raw" //_

<Code code={SolApartments} lang="py" />


## Ferris Wheel <Spec href="https://cses.fi/problemset/task/1090/" cdate="2024-01-16" />

import SolFerrisWheel from "./_solutions.sorting-and-searching/ferris-wheel.py?raw" //_

<Code code={SolFerrisWheel} lang="py" />


## Concert Tickets <Spec href="https://cses.fi/problemset/task/1091/" cdate="2024-01-18" />

I initially misunderstood the problem spec and thought that there was no time dimension to the problem, leading to two totally incorrect solutions:

import SolConcertTicketsFail01 from "./_solutions.sorting-and-searching/concert-tickets--fail01.py?raw" //_
import SolConcertTicketsFail02 from "./_solutions.sorting-and-searching/concert-tickets--fail02.py?raw" //_

<SpoilerBlock buttonLabel="Failed Solution 1">
    <Code code={SolConcertTicketsFail01} lang="py" />
</SpoilerBlock>

<SpoilerBlock buttonLabel="Failed Solution 2">
    <Code code={SolConcertTicketsFail02} lang="py" />
</SpoilerBlock>

The first logically correct solution I made was too slow due to <Eq code="O(n)" /> element deletions (even when I submitted it for `PyPy3`), leading to an overall time complexity is <Eq code="O(nm)" />. I would've liked to use a BST data structure like C++'s `std::multiset`, but Python lacks a standard library implementation.

import SolConcertTicketsFail03 from "./_solutions.sorting-and-searching/concert-tickets--fail03-tle.py?raw" //_

<SpoilerBlock buttonLabel="TLE'd Python Solution">
    <Code code={SolConcertTicketsFail03} lang="py" />
</SpoilerBlock>

But at least I know the idea works, leading me to my first successful solution that passed all tests. I decided to rewrite in C++ since I wasn't having any luck in Python. This solution has time complexity <Eq code="O(m \log n + n \log n)" /> due to <Eq code="O(\log n)" /> operations on `std::multiset`, <Eq code="O(n \log n)" /> sorting, and <Eq code="O(m \log n)" /> main loop:

import SolConcertTickets from "./_solutions.sorting-and-searching/concert-tickets.cpp?raw" //_

<Code code={SolConcertTickets} lang="cpp" />

I decided to see if I can still make Python work without too much effort. I could probably try to paste a BST implementation, but I'd rather not.

I used *union find* to let me skip over "deleted" tickets efficiently rather than carry out <Eq code="O(n)" /> deletions. My solution passes on both `CPython3` and `PyPy3`:

import SolConcertTicketsAlt02 from "./_solutions.sorting-and-searching/concert-tickets--alternative02.py?raw" //_

<Code code={SolConcertTicketsAlt02} lang="py" />


## Restaurant Customers <Spec href="https://cses.fi/problemset/task/1619/" cdate="2024-01-19" />

I initially attempted Python, but TLE'd with PyPy3:

import SolRestaurantCustomersFail01 from "./_solutions.sorting-and-searching/restaurant-customers--fail01-tle.py?raw" //_

import SolRestaurantCustomersFail02 from "./_solutions.sorting-and-searching/restaurant-customers--fail02-tle.py?raw" //_

import SolRestaurantCustomersFail03 from "./_solutions.sorting-and-searching/restaurant-customers--fail03-tle.py?raw" //_

<SpoilerBlock buttonLabel="TLE'd Python Solution 1">
    <Code code={SolRestaurantCustomersFail01} lang="py" />
</SpoilerBlock>

<SpoilerBlock buttonLabel="TLE'd Python Solution 2">
    <Code code={SolRestaurantCustomersFail02} lang="py" />
</SpoilerBlock>

<SpoilerBlock buttonLabel="TLE'd Python Solution 3">
    <Code code={SolRestaurantCustomersFail03} lang="py" />
</SpoilerBlock>

Switching over to C++ and reimplementing my first Python solution passed all tests:

import SolRestaurantCustomers from "./_solutions.sorting-and-searching/restaurant-customers.cpp?raw" //_

<Code code={SolRestaurantCustomers} lang="cpp" />

<p><Todo>Maybe try to get a Python solution to pass!</Todo></p>


## Movie Festival <Spec href="https://cses.fi/problemset/task/1629/" cdate="2024-01-19" />

I went straight to C++ due to my experience with Python TLE'ing *Restaurant Customers*:

import SolMovieFestival from "./_solutions.sorting-and-searching/movie-festival.cpp?raw" //_

<Code code={SolMovieFestival} lang="cpp" />

As it turns out, my C++ solution wouldn't have to take advantage of BSTs, so I did a quick Python rewrite. It passes CPython3, but somehow TLE's with PyPy3:

import SolMovieFestivalAlt01 from "./_solutions.sorting-and-searching/movie-festival--alternative01.py?raw" //_

<Code code={SolMovieFestivalAlt01} lang="py" />

