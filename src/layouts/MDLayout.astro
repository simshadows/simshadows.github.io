---
import {makeFrontmatter} from "@helpers/frontmatter";
import Layout from "@layouts/GeneralLayout.astro";
import RightSidebar from "@components/layout-helpers/RightSidebar.astro";

import "@root/latex-helpers/rehype-plugin/md-imports";

interface Props {
    frontmatter: {[key: string]: unknown;};
    headings: {depth: number; slug: string; text: string}[];
}

const {
    frontmatter,
    headings,
} = Astro.props;
const f = makeFrontmatter(frontmatter);
---

<Layout
    mode={f.mode}
    title={f.title}
    description={f.description}
    keywords={f.keywords}
    hidetoc={f.hidetoc}
    hidetitle={f.hidetitle}
>
    <slot />
    <RightSidebar slot="right-sidebar" headings={headings} />
</Layout>
